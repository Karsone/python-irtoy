What this is
============
A command-line driver/tool for the USB IR-Toy, written in python.


What you will need
==================

 - Python >= 3.2
  > See http://www.python.org/download/releases/
  > Ubuntu: sudo apt-get install python3
  
 - PySerial (for Python 3)
  > See http://pyserial.sourceforge.net/pyserial.html#installation
  > Ubuntu: sudo apt-get install python3-serial

Both pakages are avaible for Linux and Windows


How to install
==============
Download the source into a directory of your choice.

Open a terminal, navigate to this directory and run

Windows: > python3 irtoy.py --help

Linux: $ chmod +x irtoy.py; ./irtoy.py --help


Examples
========

For Windows, add --device=COM1 to the parameters


1__Record an IR stream to file "out.bin"

irtoy.py record out.bin


2__Play a raw IR stream from file "input.bin"

irtoy.py play input.bin


MACRO FEATURE
=============
You can use this tool as an universal remote control! (not all protocols supported currently)
Example for scanning the remote control for your TV.

Step 1: Scan the buttons on the remote control and give them names.
        Save the button map to file "tv_control.rcb"

-------------------------------------
$ irtoy.py buttons tv_control.rcb
Open and reset device... 
Done.

Please press a button on the remote
**I pressed the Volume-Up button on the remote**
Addr: 0x15 Cmd: 0x25 **just some technical stuff**
Name of the button: volumeUp
Record more? [Y/n] ** press enter, 'y' is default **
Please press a button on the remote
**I pressed the Volume-Down button on the remote**
Addr: 0x15 Cmd: 0x26
Name of the button: volumeDown
Record more? [Y/n] 
Please press a button on the remote
...
...
...
Record more? [Y/n] n
File tv_control.rcb written
$
-------------------------------------

Now you have a file named tv_control.rcb, the "button map" for your TV remote control!



Step 2: Playing a macro

Macro format
============
A macro is a string witch represents a series of key strokes an a remote control.

A keystroke is represented by the name (that you entered for this key when creating 
the button map file, e.g. "volumeUp") and optionally followed by a colon with the duration
the key should remain pressed:
btnName[:Time]

Time format: N_units (N is a number, units is one of 'ms', 's', 'm', 'h')

Examples: 
powerOn (simply press the button named "powerOn" once)
volumeUp:500_ms (hold down the "volumeUp" button for 500 milliseconds)

The syntax for waiting times between two keystrokes is:
.Time

Idle times and keystrokes are separated by spaces.

Examples:

"press the button named 'power', then hold the 'volumeUp' button for one second,
 then wait two minutes and press the 'power' button again"
 
$ irtoy.py macro "power volumeUp:1_s .2_m power" tv_control.rcb
